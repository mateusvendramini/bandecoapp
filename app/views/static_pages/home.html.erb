<!DOCTYPE html>
<html>
  <head>
    <title><%= full_title(yield(:title)) %></title>
    <%= csrf_meta_tags %>
    <%= stylesheet_link_tag    'application', media: 'all',
                                              'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= render 'layouts/shim' %>
  </head>
  <body>
    <%= render 'layouts/header' %>
    <div class="container">
      <%= yield %>
    </div>




    <div class="center jumbotron">
  <h1>Tamanho atual das filas:</h1>

  
  <h2>Colabore informando sua posição na fila. Acesse a página do resturante que você escolheu:</h2>
  <%#trocar isso por algo dinâmico, like: Restaurante.each do |F|
      link_to f.nome, path_to f, class sei lá o que é isso ... %>
  <% Restaurante.all.each do |f| %>
      <%= link_to f.nome, f, class: "btn btn-lg btn-primary"  %>
      <% if !Fila.find_by(id_restaurante: f.id).nil? %>
        <% case Fila.find_by(id_restaurante: f.id).estado_fila %>
        <% when 0 %>
        <p><%= "Sem Fila!"%></p>
        <% when 1..5 %>
        <p><%= "Fila Pequena"%></p>
        <% when 5..10 %>
        <p><%= "Fila Razoável"%></p>
        <% else %>
        <p><strong><%= "Fila Grande"%></strong></p>
        <%end%>
      <%end%>
      <%end%>

    
</div>
<div class="atualizador">
<%= link_to "Atualizar Filas", "/estima_fila/update", class: "btn btn-lg btn-primary" %>
</div>

    <div class="container">
      <%= yield %>
      <%= render 'layouts/footer' %>
    </div>



  </body>
</html>





